var body,
	svg,
	width,
	height,
	displayDays,
	data,
	// functions
	updateSingleDay;

width = 600;
height = 400;

body = d3.select("body");
svg = d3.selectAll("svg")
	.attr("width", width)
	.attr("height", height);

displayDays = {
	"sunday": false,
	"monday": false,
	"tuesday": false,
	"wednesday": false,
	"thursday": false,
	"friday": false,
	"saturday": false
}

data = {
	morning: {
		times: [500,505,510,515,520,525,530,535,540,545,550,555,600,605,610,615,620,625,630,635,640,645,650,655,700,705,710,715,720,725,730,735,740,745,750,755,800,805,810,815,820,825,830,835,840,845,850,855,900,905,910,915,920,925,930,935,940,945,950,955],
		sunday: [27.5821,27.6269,27.5821,27.6567,27.6866,27.7313,27.7313,27.7015,27.5672,27.5672,27.5672,27.5821,27.5672,27.7313,27.8358,27.8358,27.6567,27.597,27.6269,27.7612,27.7164,27.597,27.7164,27.6119,27.6119,27.6418,27.5821,27.5821,27.5821,27.5672,27.5672,27.6119,27.5821,27.597,27.597,27.6418,27.5672,27.5672,27.5672,27.5821,27.5672,27.5672,27.5672,27.5672,27.5672,27.5821,27.5672,27.5821,27.6269,27.6866,27.7463,27.7164,27.7463,27.8507,27.806,27.7761,27.7164,27.8806,27.8657,27.791],
		monday: [28.3134,28.3088,28.4118,28.5588,28.5441,28.7794,28.6176,29.1765,28.7941,28.75,29.1765,29.8824,30.5441,31.1618,31.8382,32.8088,34.0147,35.2059,36.6912,38.4853,39.7059,40.8529,42.6618,43.6324,44.6324,44.4265,45.0588,45.8235,46.2647,47.0441,47.25,47.7206,47.8529,47.8235,47.8088,46.9706,46.0441,45.1765,44.7647,44.2353,43.7794,43.7353,42.8088,42.8382,42.7941,42.8382,42.5588,41.9265,41.4412,40.4853,39.2206,38.3382,38.0441,37.2794,36.6618,36.2647,35.8382,35.6912,35.1618,34.5588],
		tuesday: [27.6087,27.5797,27.6232,27.6377,28.0435,28.0725,28.1159,28.1739,28.2899,28.7536,29.3913,30.058,30.8986,31.6522,32.4928,33.6087,35.1159,36.9855,38.7246,40.6377,42.5362,43.8551,44.8406,45.4928,46.5652,47.3043,48.4493,49,50.3478,51.4638,51.8406,52.3333,52.971,52.8406,51.6377,51.4638,50.3478,49.1449,48.8116,47.3333,47.1176,46.7391,46.3043,46.4928,45.8986,45.4348,45.1304,44.8116,44.3623,43.4493,42.3478,41.3623,40.8696,40.6522,40.2754,39.8841,39.3623,38.5942,38.0145,37.5507],
		wednesday: [28.0145,28.029,28.0725,28.1449,28.058,28.1159,28.1159,28.2059,28.5072,29.1304,29.4928,29.8986,30.6324,31.4783,32.4638,33.6087,35,36.4638,37.971,39.5507,41.0145,42.5072,43.7826,45.1739,46.3623,47.3768,48.2319,48.8406,49.5652,50.087,50.4928,50.7536,50.6232,50.5072,50.5507,49.6522,49.1884,48.2029,46.7391,46.1304,45.5652,45.6087,45.3768,45.1739,44.942,44.5942,44.7647,44.0882,43.7059,42.7206,42.0588,41.6176,40.7794,39.9559,39.1471,38.8824,38.3382,37.6471,37.3382,36.6912],
		thursday: [27.6087,28.0145,28,28,28,28,28.0145,28.0145,28.1014,28.3333,28.8986,29.3768,30.1014,30.913,31.7536,33,34.5072,36.2319,37.8261,39.6377,41.1594,42.1739,42.8841,43.9855,44.6522,45.2029,46.0725,46.7391,47.7391,48.7246,49.2174,49.3623,49.6232,49.2464,49.1014,48.5217,47.8841,47,46.1884,45.3478,45,44.4783,43.7246,43.6377,43.7536,43.5942,43.1739,42.6957,41.8116,40.7101,40.1449,39.4783,38.8696,38.1884,38.058,37.5797,37.5217,37.3913,36.8116,36.029],
		friday: [28.4706,28.6912,28.7941,28.8529,28.8529,28.75,28.9118,28.8676,29,29.2647,29.6176,30.1029,30.2647,31.1618,31.6912,31.6618,32.0882,32.8676,33.7647,34.9853,35.5,36.1912,36.4118,37.0441,37.3824,38.1176,38.3235,38.9853,39.2794,39.5147,39.5294,39.6029,39.1765,38.7353,39.3676,38.9706,38.3676,37.3529,37.1029,36.8235,36.2059,35.4853,35.3382,35.2206,35.4118,35.1765,35.1176,35.1471,34.7647,34.5882,33.6765,33.2647,33.0588,32.6471,31.9265,31.8529,31.7059,31.4265,31.4265,31.4706],
		saturday: [27.6716,27.6364,27.7077,27.6418,27.6119,27.5909,27.5909,27.597,27.5909,27.5909,27.5538,27.5692,27.6,27.6212,27.6364,27.6567,27.6418,27.6866,27.6269,27.5606,27.6667,27.6667,27.6667,27.5672,27.6418,27.6567,27.6667,27.5606,27.6515,27.6866,27.6269,27.6667,27.8358,27.7761,27.6418,27.5606,27.5672,27.5672,27.5821,27.6269,27.6818,27.5909,27.5821,27.5606,27.5821,27.5909,27.5758,27.5758,27.6567,27.6567,27.6061,27.5758,27.6212,27.5909,27.2273,27.2121,27.2273,27.2121,27.2388,27.1343]
	},
	evening: {
		times: [1400,1405,1410,1415,1420,1425,1430,1435,1440,1445,1450,1455,1500,1505,1510,1515,1520,1525,1530,1535,1540,1545,1550,1555,1600,1605,1610,1615,1620,1625,1630,1635,1640,1645,1650,1655,1700,1705,1710,1715,1720,1725,1730,1735,1740,1745,1750,1755,1800,1805,1810,1815,1820,1825,1830,1835,1840,1845,1850,1855],
		sunday: [28.209,28.1194,28.1045,28.0746,28.0299,27.9104,27.8507,27.9403,27.9254,27.8955,27.9104,27.8955,27.806,27.7612,27.8806,27.9254,28.0746,28.2537,28.4776,29.3881,29.3582,29.4179,29.6716,30.2687,30.1045,29.7015,29.4925,29.2388,29.1791,29.0746,28.7761,29.4179,29.3582,29.3134,29.4925,29.4179,29.5075,29.4478,29.5224,29.2985,29.1343,29.0896,29,28.791,28.5821,28.5821,28.6418,28.7313,28.6567,28.5672,28.3582,28.1194,28,28,27.9552,27.8955,27.8955,27.8507,27.8657,27.9851],
		monday: [30.3824,30.5588,30.6176,30.5735,30.6765,31.1471,31.6765,32.2206,32.4853,33.1029,34.2206,34.9412,34.5294,34.3529,35.25,35.5147,36.0294,36.3235,36.5735,37.1618,37.3676,37.9265,38.9412,39.5821,40.7353,41.4853,41.6765,42.4118,43.0588,44.6471,44.8824,45.4118,45.4559,46.2794,47.2206,48.1029,48.6471,49.1618,49.5,49.2647,50.6912,51.8529,52.403,52.6324,53.2941,53.0735,52.3676,52.2059,51.8676,50.8235,49.6176,48.4853,47.6176,46.8088,45.9706,44.4853,43.2941,41.7647,40.9706,39.7794],
		tuesday: [30.1884,30.5072,31.5797,31.6812,32.1884,32.7971,33.5072,34.1739,34.6667,35.2029,36.0435,37.2174,37.7971,37.6957,37.6812,37.7536,38.3623,39.2319,39.6232,39.942,40.4928,41.087,42.5072,43.2319,44.1884,44.7246,44.8841,44.4783,46.971,48.9275,50,50.6232,50.8841,52.3043,53.1739,54.1014,54.6232,54.3623,53.6667,54.6812,55.6812,56.9565,57.3333,57.913,57.8261,57.8841,57.5652,57.1304,56.1594,55.1014,54.3333,52.942,51.1912,51.5797,49.913,49.5652,48.5797,46.3188,46.0294,43.1739],
		wednesday: [31.8406,32,32.2464,32.3188,32.5797,33.029,33.4203,34.0435,34.2899,35.1014,36.6232,37.6377,38.087,38.3478,38.4058,38.5362,39.0725,40.3623,41.0725,41.3913,42.1159,42.7536,44.1884,45.0145,45.971,46.1739,46.2609,46.5217,47.913,49.4348,50.3913,51.2174,51.1594,52.2754,53.029,53.6957,53.6087,53.7101,53.7681,54.6232,56.1594,56.7101,57.8116,57.4058,56.9565,56.058,56.2174,55.8406,55.3768,54.9565,53.9855,52.971,52.3913,51.8406,50.8406,49.4928,48.5362,47.0725,46.1304,45.1594],
		thursday: [32.5072,32.5362,32.4058,32.8261,32.5735,33.7794,34.4853,34.9118,35.6765,35.7206,37.971,38.8986,39.5507,39.8971,40.2609,40.3623,40.9565,41.5217,42.1449,42.8261,43.4928,44.5362,46,47.5217,48.4783,48.971,48.3913,49.3913,50.1449,51.6957,52.8261,53.3913,54.0725,55.1159,56.2464,57.2029,57,56.6667,56.3382,57,57.942,58.7246,59.4348,59.1449,58.1594,57.2464,57.0725,56.942,56.8696,55.8088,53.4783,52.3188,52.5362,51.6176,51.029,50.2206,49.3478,48.1594,46.8696,46.0725],
		friday: [36.1324,35.8382,35.8971,36.2206,36.5,37,37.3824,37.6176,38.0294,38.75,39.8824,40.8235,41.7206,42.0735,42.3088,42.0882,42.5147,42.9118,43.7941,43.8676,43.9412,44.6324,45.2836,45.7206,46.4706,46.8209,47.1765,47.5588,48.3088,48.9851,49.8358,50.2239,50.5147,51.1642,51.7794,52.4776,52.3284,51.9701,51.6176,52.0588,52.8955,53.5147,53,53.1493,52.1194,51.2836,51.3731,50.7794,50.0299,48.8955,47.8824,47.1471,47.1194,46.3235,46.194,45.4265,44.9559,44.4179,43.7015,42.8209],
		saturday: [30.1818,30.0896,30.1061,30.1515,30.209,30.3582,30.5,30.5522,30.6212,30.5909,30.0149,30,29.803,29.6866,29.5224,29.3333,29.4179,29.5152,29.7424,30.2388,30.3788,30.6212,30.8485,31.0758,31.2836,31.0758,30.7612,30.7313,31.0152,31.0303,31.2424,31.3846,31.3182,31.2769,31.3485,31.2879,31.2273,30.9091,30.9538,30.9846,31,30.8485,31,31.0597,31.1343,31.1194,31.0597,30.7424,30.6818,30.5522,30.2879,30.197,30.1515,30.2836,30.4848,30.3134,30.2576,30.0597,29.9403,29.7313]
	}

}

body.append("br");

body.selectAll("button").data(Object.keys(displayDays))
	.enter().append("button")
	.text(function(d) {return d;})
	.on("click", function(d){
		//displayDays[d] = !displayDays[d];
		updateSingleDay(d);
		// console.log(d, "is", displayDays[d]);
		// console.log("button");
	});

var y = d3.scale.linear()
    .range([0, height]).domain([0, d3.max(data.morning.monday, function(d) { return d+10; })]);
var x = d3.scale.linear()
	.range([0, width]).domain([0, data.morning.monday.length+2]);





updateSingleDay = function(day) {
	//var circles = svg.selectAll("circle");
	Object.keys(displayDays).forEach(function(d){
		svg.selectAll("."+d).remove();
	});
	svg.selectAll("circle").data(data["morning"][day])
		.enter().append("circle")
		.attr("r", 2)
		.attr("cx", function(d, i) {return 2+x(i);})
		.attr("cy", function(d) {return height - y(d);})
		.attr("class", day)
		.on("mouseover", function(d, i){
			// console.log(d, data.morning.times[i]);
		});
}
